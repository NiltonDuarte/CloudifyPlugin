tosca_definitions_version: cloudify_dsl_1_3

plugins:
  solo:
    executor: central_deployment_agent
    source: https://github.com/NiltonDuarte/CloudifyPlugin/archive/master.zip
    package_name: solo_plugin
    package_version: '0.0'

data_types:
  cloudify.solo.types.configuration:
    properties:
      server_ip:
        type: string
      server_port:
        type: string
      username:
        type: string
      password:
        type: string

node_types:

  cloudify.solo.nodes.VirtualNetwork:
    derived_from: cloudify.nodes.Root
    properties: 
      solo_config:
        type: cloudify.solo.types.configuration
        default: {}      
      vNetworkName:
        type: string 
        default: ''
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: solo.solo_plugin.network.create
        delete:
          implementation: solo.solo_plugin.network.delete

  cloudify.solo.nodes.VirtualSwitch:
    derived_from: cloudify.nodes.Root
    properties: 
      solo_config:
        type: cloudify.solo.types.configuration
        default: {} 
      vNetworkName:
        type: string 
        default: ''        
      datapathId: 
        type: string
      controllerIp: 
        type: string
      controllerPort: 
        type: string
      openflowVersion: 
        type: string
      physicalDevice: 
        type: string
     
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: solo.solo_plugin.switch.create
        delete:
          implementation: solo.solo_plugin.switch.delete          
                 